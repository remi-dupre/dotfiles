# Generated by https://github.com/remi-dupre/dotfiles

[theme]
theme = "plain"

  [theme.overrides]
  separator = " "

[icons]
icons = "awesome4"

  [icons.overrides]
  net_wireless = ""
  music = ""

  # Borrowed from "material-nf" as they are missing from awesome4
  backlight = [
    "\ue3d4",
    "\ue3d3",
    "\ue3d2",
    "\ue3d1",
    "\ue3d0",
    "\ue3cf",
    "\ue3ce",
    "\ue3cd",
    "\ue3cc",
    "\ue3cb",
    "\ue3ca",
    "\ue3c9",
    "\ue3c8",
    "\ue39c",
    "\ue39b",
  ]

# Blocks

[[block]]
block = "focused_window"
format = "<b>$title.str(max_w:120)</b>|"

{% for _ in range(30) %}
  [[block]]
  block = "custom"
  command = "echo ''"
  interval = 3600
{% endfor %}

{% for device in i3status.bluetooth %}
  [[block]]
  block = "bluetooth"
  mac = "{{ device.mac }}"
  format = "$icon {{ device.label }}{ $percentage|}  ⁞ "
  disconnected_format = ""
{% endfor %}

{% if i3status.velib.stations %}
  [[block]]
  block = "custom"
  interval = 60
  command = """
      cd $HOME/scripts
      pipenv run ./velib-station.py {{ i3status.velib.stations | join(" ") }}
  """

  [[block]]
  block = "custom"
  command = "echo ''"
  interval = 3600
{% endif %}

[[block]]
block = "net"
format = "^icon_net_down$speed_down.eng(prefix:K) ^icon_net_up$speed_up.eng(prefix:K)"
interval = 5

[[block]]
block = "custom"
command = "echo \u21c4 $(ping -c1 8.8.8.8 | perl -nle '/time=(\\d+)/ && print $1')ms"
interval = 60

[[block]]
block = "custom"
command = "echo '⁞'"
interval = 3600

{% if i3status.gpu.enabled %}
  [[block]]
  block = "nvidia_gpu"
  label = ""
  show_memory = false
  show_temperature = false
  interval = 1
{% endif %}

[[block]]
block = "cpu"
interval = 1

[[block]]
block = "memory"
format = "$icon $mem_used"

[[block]]
block = "custom"
command = "echo '⁞'"
interval = 3600

[[block]]
block = "sound"
device_kind = "source"
show_volume_when_muted = true

[[block]]
block = "sound"
show_volume_when_muted = true

[[block]]
block = "custom"
command = "echo '⁞'"
interval = 3600

[[block]]
block = "hueshift"
hue_shifter = "gammastep"
format ="☀ $temperature"
step = 50
click_temp = 3500

{% if i3status.backlight.enabled %}
  [[block]]
  block = "backlight"
{% endif %}

[[block]]
block = "custom"
command = "echo '⁞'"
interval = 3600

{% if i3status.battery.enabled %}
  [[block]]
  block = "battery"
  device = "{{ i3status.battery.device }}"
  interval = 1
  format = "$icon  $percentage"
  full_format = ""
  empty_format = ""
  full_threshold = 100
  good = 100
  info = 75
  warning = 50
  critical = 25

  [[block]]
  block = "battery"
  device = "{{ i3status.battery.device }}"
  interval = 10
  format = "($time)"
  full_threshold = 100
  good = 100
  info = 75
  warning = 50
  critical = 25
{% endif %}

[[block]]
block = "custom"
command = "echo '⁞'"
interval = 3600

[[block]]
block = "time"
interval = 10
format = "<b>$timestamp.datetime(f:'%A %d %B %Y - %H:%M', l:fr_FR)</b>"
